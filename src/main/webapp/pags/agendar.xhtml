<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui">
<h:head>
	<h:outputStylesheet library="css" name="estilo.css" />

</h:head>
<h:body styleClass="teste">
	<p:growl>
		<p:autoUpdate />
	</p:growl>

	<div align="center" style="width: 1000px">
		<h:graphicImage library="img" name="logo.png" width="200px"
			height="200px" />
	</div>

	<h:panelGrid columns="1" styleClass="caixa">

		<div class="barra">ACESSO RESTRITO</div>
		<h:panelGrid columns="2" styleClass="centro">

			<h:panelGrid styleClass="centro">
				<h3>Agendar Visita</h3>
				<h:form>
					<p:panelGrid columns="1">
						<p:inputText value="#{agendaMB.agenda.nome}"
							placeholder="Nome da Visita" size="40" styleClass="input_normal" />
						<p:inputText value="#{agendaMB.agenda.atendente}"
							placeholder="Atendente" size="40" styleClass="input_normal" />
						<p:calendar value="#{agendaMB.agenda.data}" showOn="button"
							placeholder="Dia da Visita" mask="true" pattern="dd/MM/yyyy" />
						<p:inputMask placeholder="Horário da Visita" size="40"
							styleClass="input_normal" mask="99:99"
							value="#{agendaMB.agenda.hora}" />
						<p:growl id="messages" showDetail="true" />
						<h:outputText value="Classificação da Visita:" />
						<p:rating value="#{agendaMB.agenda.classificacao}">
							<p:ajax event="rate" listener="#{ratingView.onrate}"
								update="messages" />
							<p:ajax event="cancel" listener="#{ratingView.oncancel}"
								update="messages" />
						</p:rating>


						<h3 style="margin-top: 0">Descrição</h3>
						<p:inputTextarea rows="6" cols="33"
							value="#{agendaMB.agenda.observacao}" />
						<p:selectOneMenu>
							<f:selectItem itemLabel="Selecionar Cliente" />
							<f:selectItems value="#{clienteMB.clientes}" var="c"
								itemLabel="#{c.nome}" itemValue="#{c.codigo}" />
						</p:selectOneMenu>


						<h:panelGrid columns="2">
							<p:selectOneMenu value="#{agendaMB.agenda.curso}">
								<f:selectItem itemLabel="Selecionar Curso" />
								<f:selectItems var="c" value="#{cursoMB.cursos}"
									itemLabel="#{c.nome}" itemValue="#{c.id}" />
							</p:selectOneMenu>

							<p:commandButton value="+" onclick="PF('Add').show();" />

						</h:panelGrid>

						<p:dialog widgetVar="Add">
							<h:form>
								<center>
									<p:panelGrid columns="1">

										<p:inputText placeholder="Nome" value="#{agendaMB.curso.nome}" />
										<p:inputText placeholder="Vagas"
											value="#{agendaMB.curso.VAGAS_TOTAL}" />
										<p:inputText placeholder="Descrição"
											value="#{agendaMB.curso.DESCRI}" />
										<p:inputText placeholder="Duração"
											value="#{agendaMB.curso.DURACAO}" />

										<p:selectOneMenu value="#{agendaMB.curso.CATEGORIA.id}"
											required="true"
											requiredMessage="Uma categoria é necessaria !">
											<f:selectItem itemLabel="Selecionar Categoria" itemValue="" />
											<f:selectItems var="c" value="#{agendaMB.categorias}"
												itemLabel="#{c.nome}" itemValue="#{c.id}" />
										</p:selectOneMenu>
									</p:panelGrid>

									<br />
									<p:commandButton value="Salvar novo curso !"
										actionListener="#{agendaMB.salvarCurso}" update="@all" />
								</center>

							</h:form>
						</p:dialog>

						<p:panelGrid columns="2">
							<h:commandButton value="Agendar" styleClass="btn"
								action="#{agendaMB.agendar}" />
							<h:commandButton value="Cancelar" styleClass="btn" />
						</p:panelGrid>
					</p:panelGrid>
				</h:form>
			</h:panelGrid>
		</h:panelGrid>
	</h:panelGrid>
</h:body>
</html>