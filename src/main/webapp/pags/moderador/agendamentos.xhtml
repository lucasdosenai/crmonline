<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui">
<h:head>
	<h:outputStylesheet library="resource" name="estilo.css" />
</h:head>

<h:body>
	<p:growl id="messages" showDetail="true" >
		<p:autoUpdate />
	</p:growl>
	<nav class="nav-extended" style="background-color: black">
		<div class="nav-content">
			<ul class="tabs tabs-transparent">
				<li class="tab"><a href="#"><h:graphicImage library="img"
							name="logo.png" width="50px" height="50px" /></a></li>
				<li class="tab"><a href="#test1">AGENDAMENTOS</a></li>
				<li class="tab"><a href="#test2">CLIENTES</a></li>
				<li class="tab" style="margin-right: 50%"><a href="#test4">CADASTRO</a></li>

				<li class="tab"><a href="sass.html">Inicio</a></li>
				<li class="tab"><a href="badges.html">PERFIL</a></li>
				<li class="tab"><a href="collapsible.html">SAIR</a></li>
			</ul>
		</div>
	</nav>

	<p:toolbar>
		<f:facet name="left">
			<p:commandButton onclick="PF('novaVisita').show();"
				value="Nova Visita" icon="ui-icon-plus" />
		</f:facet>
		<f:facet name="right">

			<h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
				<p:outputLabel for="console" value="Filtrar" />
				<p:selectOneMenu id="console" style="width:125px">
					<f:selectItem itemLabel="Selecione" itemValue="" />
					<f:selectItem itemLabel="Cu" itemValue="Xbox One" />
					<f:selectItem itemLabel="PS4" itemValue="PS4" />
					<f:selectItem itemLabel="Wii U" itemValue="Wii U" />
				</p:selectOneMenu>
			</h:panelGrid>
		</f:facet>
	</p:toolbar>
	<h:form id="formTabela">
		<p:dataTable id="tabela" value="#{agendaMB.visitas}" var="a">
			<p:column headerText="Nome da Visita">
				<h:outputText value="#{a.nome}" />
			</p:column>
			<p:column headerText="Atendente">
				<h:outputText value="#{a.atendente}" />
			</p:column>
			<p:column headerText="Data e Hora da Visita">
				<h:outputText
					value="Dia : #{agendaMB.getDate(a.data)} - Hora : #{a.hora}" />
			</p:column>
			<p:column headerText="Editar">
				<p:commandButton styleClass="btn" value="Excluir"
					onclick="PF('deletaVisitaPendente').show();" />
				<p:commandButton icon="ui-icon-pencil" value="Editar"
						update="dialog22" oncomplete="PF('edite').show();">
						<f:setPropertyActionListener value="#{agenda}"
							target="#{agendaMB.agenda}" />
					</p:commandButton>
				<p:commandButton onclstyleClass="btn" value="Realizar" onclick="PF('realizar').show();"/>
				<p:commandButton styleClass="btn" value="Visualizar" />
			</p:column>
		</p:dataTable>
	</h:form>
	<h:form id="formNovaVisita">
		<p:dialog id="dialog" header="NOVO VISITA" widgetVar="novaVisita"
			minHeight="40">
			<p:column headerText="Nova Visita">
				<p:inputText placeholder="NOME : " value="#{agendaMB.agenda.nome}" />
				<br />
				<p:inputText placeholder="ATENDENTE : "
					value="#{agendaMB.agenda.atendente}" />
				<br />
				<p:calendar value="#{agendaMB.agenda.data}" showOn="button"
					placeholder="Dia da Visita" mask="true" pattern="dd/MM/yyyy" />
				<br />

				<p:inputMask placeholder="Horário da Visita" size="40"
					styleClass="input_normal" mask="99:99"
					value="#{agendaMB.agenda.hora}" />

				<p:panelGrid columns="2">
					<p:selectOneMenu value="#{agendaMB.agenda.id_cliente}">
						<f:selectItem itemLabel="Selecionar Cliente" />
						<f:selectItems value="#{clienteMB.clientes}" var="cli"
							itemLabel="#{cli.nome}" itemValue="#{cli.codigo}" />
					</p:selectOneMenu>
					<h:panelGrid columns="2">
						<p:selectOneMenu id="cursos" value="#{agendaMB.agenda.curso}">
							<f:selectItem itemLabel="Selecionar Curso" />
							<f:selectItems var="c" value="#{agendaMB.cursos}"
								itemLabel="#{c.nome}" itemValue="#{c.id}" />
						</p:selectOneMenu>
						<p:commandButton value="+" onclick="PF('Add').show();" />
					</h:panelGrid>
				</p:panelGrid>

				<br />
				<p:commandButton value="Adicionar"
					actionListener="#{agendaMB.agendar}" ajax="true"
					update=":formTabela:tabela" event="click" />
			</p:column>
		</p:dialog>
	</h:form>

	<p:dialog widgetVar="deletaVisitaPendente"
		header="Você tem certeza que gostaria de apagar essa visita ?">
		<p:commandButton value="SIM" />
		<p:commandButton value="NÃO" />
	</p:dialog>

	<p:dialog widgetVar="Add">
		<h:form>
			<center>
				<p:panelGrid columns="1">
					<p:inputText placeholder="Nome" value="#{agendaMB.curso.nome}" />
					<p:inputText placeholder="Vagas"
						value="#{agendaMB.curso.VAGAS_TOTAL}" />
					<p:inputText placeholder="Descrição"
						value="#{agendaMB.curso.DESCRI}" />
					<p:inputText placeholder="Duração"
						value="#{agendaMB.curso.DURACAO}" />

					<p:selectOneMenu id="cursos" value="#{agendaMB.curso.CATEGORIA.id}"
						required="true" requiredMessage="Uma categoria é necessaria !">
						<f:selectItem itemLabel="Selecionar Categoria" itemValue="" />
						<f:selectItems var="c" value="#{agendaMB.categorias}"
							itemLabel="#{c.nome}" itemValue="#{c.id}" />
					</p:selectOneMenu>
				</p:panelGrid>
				<br />
				<p:commandButton value="Salvar novo curso !"
					action="#{agendaMB.salvarCurso}" ajax="true"
					update=":formNovaVisita:cursos" event="click" />
			</center>
		</h:form>
	</p:dialog>
	
	
	<p:dialog id="dialog22" draggable="true" maximizable="true"
		header="EDITA CLIENTE" widgetVar="edite" minHeight="40">
		<h:form>
			<p:column headerText="Editar Cliente">
				<p:inputText placeholder="NOME : " value="#{agendaMB.agenda.nome}" />
				<br />
				<p:inputText placeholder="ATENDENTE : "
					value="#{agendaMB.agenda.atendente}" />
				<br />
				<p:calendar value="#{agendaMB.agenda.data}" showOn="button"
					placeholder="Dia da Visita" mask="true" pattern="dd/MM/yyyy" />
				<br />

				<p:inputMask placeholder="Horário da Visita" size="40"
					styleClass="input_normal" mask="99:99"
					value="#{agendaMB.agenda.hora}" />

				<p:panelGrid columns="2">
					<p:selectOneMenu value="#{agendaMB.agenda.id_cliente}">
						<f:selectItem itemLabel="Selecionar Cliente" />
						<f:selectItems value="#{clienteMB.clientes}" var="cli"
							itemLabel="#{cli.nome}" itemValue="#{cli.codigo}" />
					</p:selectOneMenu>
					<h:panelGrid columns="2">
						<p:selectOneMenu id="cursos" value="#{agendaMB.agenda.curso}">
							<f:selectItem itemLabel="Selecionar Curso" />
							<f:selectItems var="c" value="#{agendaMB.cursos}"
								itemLabel="#{c.nome}" itemValue="#{c.id}" />
						</p:selectOneMenu>
						<p:commandButton value="+" onclick="PF('Add').show();" />
					</h:panelGrid>
				</p:panelGrid>

				<br />
				<p:commandButton value="Aplicar"
					action="#{agendaMB.editaVisita()}" ajax="true" />
				
			</p:column>
		</h:form>
		
	</p:dialog>
	
	<p:dialog widgetVar="realizar">
	<h:form>
	 <h:outputText value="Ajax Rate:" />
        <p:rating value="#{ratingView.rating3}">
            <p:ajax event="rate" listener="#{ratingView.onrate}" update="messages"/>
            <p:ajax event="cancel" listener="#{ratingView.oncancel}" update="messages"/>
        </p:rating>
	
	
	
	 <h3>AutoResize</h3>
    <p:inputTextarea rows="6" cols="33" />
    
     <p:commandButton value="Visita Concluída"
					 ajax="true" />
	</h:form>
	</p:dialog>
	
	<p:dialog header="Values" widgetVar="dlg" showEffect="fade" hideEffect="fade">
        <h:panelGrid id="display" columns="2" cellpadding="5">
         <h:outputText value="Rating 3:" />
            <h:outputText value="#{ratingView.rating3}" />
        </h:panelGrid>
        </p:dialog>

</h:body>
</html>