<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
	<h:outputStylesheet library="resource" name="estilo.css" />
	<style>
.textoID td {
	background-color: #000;
	border-color: #fff;
	width: 100px !important;
	height: 32px;
	font-size: 32px;
}

.clientes {
	width: 25%;
	float: left;
	padding: 0;
	margin: 0 auto;
	text-align: center;
	text-decoration: blink;
}

body {
	width: 100%;
	margin: 0 auto;
}

ul {
	list-style-type: none;
	margin: 0;
	padding: 0;
	overflow: hidden;
	background-color: #333;
	position: -webkit-sticky; /* Safari */
	position: sticky;
	top: 0;
}

.li {
	float: left;
}

li a {
	display: block;
	color: white;
	text-align: center;
	padding: 14px 16px;
	text-decoration: none;
}

li a:hover {
	background-color: #111;
}

.active {
	background-color: #4CAF50;
}
</style>
</h:head>

<h:body>
	<p:growl>
		<p:autoUpdate />
	</p:growl>
	<div class="header">
		<h2>CRM ONLINE</h2>
		<p>Mais produtividade para geral</p>
	</div>

	<ul>
		<li><a class="active" href="#home">INICIO</a></li>
		<li><a href="#news">AGEDAMENTOS</a></li>
		<li><a href="#contact">CLIENTES</a></li>
		<li><a href="#contact">CONTATOS</a></li>
	</ul>
	<p:column>
		<h:form>
			<p:panelGrid columns="5">
				<p:commandButton value="Novo" icon="ui-icon-disk"
					onclick="PF('newC').show();" />
				<p:panel id="listaCategoria">
					<p:selectOneMenu id="categoria2" style="width:150px"
						value="#{clienteMB.categoriaEscolhida}">
						<f:selectItem itemLabel="Busca Ramos" itemValue="TODAS"
							noSelectionOption="true" />
						<f:selectItems var="buscaCategoria"
							value="#{categoriaMB.categorias}"
							itemLabel="#{buscaCategoria.nome}"
							itemValue="#{buscaCategoria.codigo}" />
						<p:ajax listener="#{clienteMB.testando()}"
							update="listaCompletaCliente" />
					</p:selectOneMenu>
					<p:selectOneMenu id="statuCliente" style="width:150px">
						<f:selectItem itemLabel="Buscar Clientes "/>
						<f:selectItem itemLabel="Ativados" itemValue="0"/>
						<f:selectItem itemLabel="Desativados" itemValue="1"/>
						<p:ajax listener="#{clienteMB.desativados()}"
							update="listaCompletaCliente" />
					</p:selectOneMenu>
				</p:panel>
			</p:panelGrid>

			<p:dialog id="dialog" header="NOVO CLIENTE" widgetVar="newC"
				minHeight="40">
				<p:column headerText="Novo Cliente">

					<p:inputText placeholder="NOME : "
						value="#{clienteMB.cliente.nome}" />
					<br />
					<p:inputText placeholder="COLABORADORES : "
						value="#{clienteMB.cliente.numeroFuncionario}" />
					<br />
					<p:inputText placeholder="CNPJ : "
						value="#{clienteMB.cliente.cnjp}" />
					<br />
					<p:inputText placeholder="TELEFONE : "
						value="#{clienteMB.cliente.telefone}" />
					<br />
					<p:inputText placeholder="EMAIL : "
						value="#{clienteMB.cliente.email}" />
					<br />
					<p:inputText placeholder="LOGRADOURO : "
						value="#{clienteMB.cliente.logradouro}" />
					<br />
					<p:inputText placeholder="CIDADE : "
						value="#{clienteMB.cliente.cidade}" />
					<br />
					<p:selectOneMenu id="categoria"
						value="#{clienteMB.cliente.categoria.id}" style="width:150px">
						<f:selectItem itemLabel="Criar / Selecionar" itemValue=""
							noSelectionOption="true" />
						<f:selectItems var="categoria" value="#{categoriaMB.categorias}"
							itemLabel="#{categoria.nome}" itemValue="#{categoria.codigo}" />
					</p:selectOneMenu>
					<p:commandButton icon="ui-icon-plus" ajax="true"
						onclick="PF('newCT').show();" />
					<p:dialog widgetVar="newCT">
						<p:ajax listener="#{categoriaMB.att}" update="categoria" />
						<p:inputText placeholder="NOME : "
							value="#{categoriaMB.categoria.nome}" />
						<br />
						<p:commandButton icon="ui-icon-plus" ajax="true"
							action="#{categoriaMB.novaCategoria}" />
					</p:dialog>

					<br />
					<p:commandButton value="Adicionar"
						action="#{clienteMB.novoCliente}" ajax="true"
						update="listaCompletaCliente" />
					<p:commandButton value="Atualizar" action="#{categoriaMB}" />
				</p:column>
			</p:dialog>
		</h:form>
	</p:column>
	<p:panelGrid id="listaCompletaCliente" columns="1"
		style="width:100% !important;">
		<h:form>
			<p:dataTable id="teste" var="cliente" value="#{clienteMB.clientes}">
				<p:column>
					<h:outputText value="#{cliente.nome}" style="font-weight: bold" />
				</p:column>
				<p:column>
					<p:outputLabel value="TELEFONE : #{cliente.telefone}" />
				</p:column>
				<p:column>
					<p:outputLabel value="RUA : #{cliente.logradouro}" />
				</p:column>
				<p:column>
					<p:outputLabel value="RAMO : #{cliente.categoria.nome}" />
				</p:column>

				<p:column>
					<p:commandButton action="#{clienteMB.desativarCliente(cliente)}" value="Desativar" update="listaCompletaCliente"/>
			
					<p:commandButton icon="ui-icon-pencil" value="Informações" update="dialog" oncomplete="PF('editC').show();">
						<f:setPropertyActionListener value="#{cliente}" target="#{clienteMB.cliente}" />
					</p:commandButton>
				</p:column>
			</p:dataTable>

			<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
				<p:commandButton value="SIM" styleClass="ui-confirmdialog-yes"
					icon="ui-icon-check" event="onClick" listener="#{categoriaMB.att}"
					ajax="true" />
				<p:commandButton value="NÃO" type="button"
					styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
			</p:confirmDialog>
		</h:form>
	</p:panelGrid>

	<p:dialog id="dialog" draggable="true" maximizable="true"
		header="EDITA CLIENTE" widgetVar="editC" minHeight="40">
		<h:form>
			<p:column headerText="Editar Cliente">
				<p:inputText placeholder="NOME : " value="#{clienteMB.cliente.nome}" />
				<br />
				<p:inputText placeholder="COLABORADORES : "
					value="#{clienteMB.cliente.numeroFuncionario}" />
				<br />
				<p:inputText placeholder="CNPJ : " value="#{clienteMB.cliente.cnjp}" />
				<br />
				<p:inputText placeholder="TELEFONE : "
					value="#{clienteMB.cliente.telefone}" />
				<br />
				<p:inputText placeholder="EMAIL : "
					value="#{clienteMB.cliente.email}" />
				<br />
				<p:inputText placeholder="LOGRADOURO : "
					value="#{clienteMB.cliente.logradouro}" />
				<br />
				<p:inputText placeholder="CIDADE : "
					value="#{clienteMB.cliente.cidade}" />
				<br />
				<p:selectOneMenu id="categoria"
					value="#{clienteMB.cliente.categoria.id}" style="width:150px">
					<f:selectItem itemLabel="Criar / Selecionar" itemValue=""
						noSelectionOption="true" />
					<f:selectItems var="categoria" value="#{categoriaMB.categorias}"
						itemLabel="#{categoria.nome}" itemValue="#{categoria.codigo}" />
				</p:selectOneMenu>
				<p:commandButton icon="ui-icon-plus" ajax="true"
					onclick="PF('newCT').show();" />
				<br />
				<p:commandButton value="Aplicar"
					action="#{clienteMB.editaCliente()}" ajax="true"
					update="listaCompletaCliente" />
				<p:commandButton value="Atualizar" action="#{categoriaMB}" />
			</p:column>
		</h:form>
	</p:dialog>
	<h:form>
		<p:dialog draggable="true" maximizable="true" closable="true"
			widgetVar="newCT">
			<p:ajax listener="#{categoriaMB.att}" update="@all" />
			<p:inputText placeholder="NOME : "
				value="#{categoriaMB.categoria.nome}" />
			<br />
			<p:commandButton icon="ui-icon-plus" ajax="true"
				action="#{categoriaMB.novaCategoria}" />
		</p:dialog>
	</h:form>
</h:body>
</html>